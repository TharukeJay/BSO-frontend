---
const { product } = Astro.props;

const removeFromCart = async (productId) => {
    const response = await fetch('/api/cart/remove', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
        },
        body: JSON.stringify({ productId }),
    });

    if (response.ok) {
        alert('Product removed from cart!');
    } else {
        alert('Failed to remove product from cart.');
    }
};
---

<div class="cart-item">
    <img src={product.image.url} alt={product.title} />
    <h2>{product.title}</h2>
    <p>{product.price}</p>
    <button onclick="removeFromCart({product.id})">Remove from Cart</button>
</div>
